(this.webpackJsonpgame1=this.webpackJsonpgame1||[]).push([[0],{105:function(e,t,n){e.exports=n(135)},110:function(e,t,n){},111:function(e,t,n){},135:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(30),o=n.n(c),r=(n(110),n(31)),l=n(32),s=n(21),u=n(38),m=n(37),f=(n(111),n(7)),p=(n(122),n(23)),d=n.n(p),h=d.a.initializeApp({apiKey:"AIzaSyCU3lAPlsxkBORPy2HQfCdayJNIIh0PrV4",authDomain:"game1-cae49.firebaseapp.com",databaseURL:"https://game1-cae49.firebaseio.com",projectId:"game1-cae49",storageBucket:"game1-cae49.appspot.com",messagingSenderId:"691468574984",appId:"1:691468574984:web:1c76454a2ec3020e820cbd",measurementId:"G-1B23MNQTH4"});d.a.analytics();var v=h,E=n(24),w=n.n(E),b=n(36),g=function(){var e=Object(b.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:t,balance:0,hero:0},v.firestore().collection("users").doc(t.toString()).get().then((function(e){e.exists||v.firestore().collection("users").doc(t.toString()).set(n).then((function(e){return console.log("Created user...")}))})),e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=n(18),P=n.n(k),V=function(e){return i.a.createElement(f.c,{separator:!1},i.a.createElement(f.g,{mode:"buttons"},[["\u0413\u043b\u0430\u0432\u043d\u0430\u044f","main"],["\u041d\u043e\u0432\u043e\u0441\u0442\u0438","news"]].map((function(t){return i.a.createElement(f.h,{key:t[1],onClick:function(){e.openPanel(t[1])},selected:e.selected===t[1]},t[0])}))))},y=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={activeView:"main",activePanel:"main",userDataVK:{},userData:{},farm:{activePanel:"main"}},a.openPanel=a.openPanel.bind(Object(s.a)(a)),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;P.a.send("VKWebAppInit",{}).then((function(t){return P.a.send("VKWebAppGetUserInfo",{}).then((function(t){e.setState({userDataVK:t}),g(t.id).then((function(n){v.firestore().collection("users").doc(t.id.toString()).onSnapshot((function(t){e.setState({userData:t.data()}),console.log(e.state)}))}))}))}))}},{key:"componentWillUnmount",value:function(){}},{key:"openPanel",value:function(e){this.setState({activePanel:e})}},{key:"openView",value:function(e){this.setState({activeView:e})}},{key:"render",value:function(){var e=this;return i.a.createElement(f.e,{activeView:this.state.activeView},i.a.createElement(f.i,{id:"main",activePanel:this.state.activePanel},i.a.createElement(f.b,{id:"main"},i.a.createElement(V,{openPanel:this.openPanel,selected:this.state.activePanel}),i.a.createElement(f.f,{onClick:function(){e.openView("farm")}},"\u041d\u0435\u043a\u0441\u0443\u0441"),i.a.createElement(f.f,{onClick:function(){e.openView("farm")}},"\u0410\u0440\u0435\u043d\u0430"),i.a.createElement(f.f,{onClick:function(){e.openView("farm")}},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"),i.a.createElement(f.f,{onClick:function(){e.openView("farm")}},"\u041a\u043e\u043d\u0442\u0440\u0430\u043a\u0442\u044b"),i.a.createElement(f.f,{onClick:function(){e.openView("farm")}},"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436"),i.a.createElement(f.f,{onClick:function(){e.openView("farm")}},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438")),i.a.createElement(f.b,{id:"news"},i.a.createElement(V,{openPanel:this.openPanel,selected:this.state.activePanel}))),i.a.createElement(f.i,{id:"farm",activePanel:this.state.farm.activePanel},i.a.createElement(f.b,{id:"main"},i.a.createElement(f.c,{left:i.a.createElement(f.d,{onClick:function(){e.openView("main")}})},"AYE"),i.a.createElement(f.a,{mode:"secondary"},"\u043b\u043e\u043a\u0430\u0446\u0438\u0438"),i.a.createElement(f.f,null,"\u0422\u0435\u043c\u043d\u044b\u0439 \u043b\u0435\u0441"),i.a.createElement(f.f,null,"\u0427\u0435\u0440\u043d\u044b\u0435 \u0442\u043e\u043f\u0438"),i.a.createElement(f.f,null,"\u0423\u043f\u0430\u0432\u0448\u0438\u0439 \u043a\u043e\u0440\u0430\u0431\u043b\u044c"))))}}]),n}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[105,1,2]]]);
//# sourceMappingURL=main.4d9b6666.chunk.js.map